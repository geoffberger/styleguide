<script>
  (function () {
    // rc namespace
    window.rc = {

      // queue to hold all the functions and execute later
      'q': [],
      push: function (fn) {
        rc.q.push(fn);
      },

      // execute all the options listed in url parameters
      applyParams: function (pageOptions) {
        var docLocSearch = document.location.search;
        var params = docLocSearch ? docLocSearch.substr(1).split('&') : [];

        params.forEach(function (param) {
          var fn = pageOptions[param];
          if (typeof fn === 'function')
            fn(param);
        });
      },

      // helper functions to add and remove a class
      addClass: function (el, className) {
        var elClasses = el.className.split(' ');
        // if className is not there, add it
        if (elClasses.indexOf(className) === -1) {
          elClasses.push(className);
          el.className = elClasses.join(' ');
        }
      },
      removeClass: function (el, className) {
        var elClasses = el.className.split(' ');
        var len = elClasses.length;
        // loop thru to remove className
        while (len--) {
          if (elClasses[len] === className)
            elClasses.splice(len, 1);
        }
        el.className = elClasses.join(' ');
      }
    };

    // execute javascript (rc.onload) onload
    var existingOnload = window.onload;

    window.onload = function() {
      if (existingOnload) existingOnload();
      //if (rc.onload) rc.onload();
      // loop thru all the functions in the queue
      var queue = rc.q || [];
      queue.forEach(function (fn) {
        fn.call();
      })
      // reset push function to fire immediately
      rc.q.push = function (fn) { fn.call(); };
    };
  })();
</script>
